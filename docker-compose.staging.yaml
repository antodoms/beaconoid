version: '2'
services:
  app:
    image: beaconoid:0.1
    volumes:
      - ./file_storage:/app/public/system/
      - assets:/app/public/assets/
    environment:
      - SECRET_KEY_BASE=5395b86a5ba1eb25e4aaa26c0212f8ee3a84dd508794216e737f3a8b2ef64644bc4c126e4027042bae6f06c77794986d3a0b3f498d30f14413ecafc40af4210d
  nginx:
    ports:
      - 80
    volumes:
      - ./nginx.staging.conf:/etc/nginx/conf.d/default.conf
    networks:
      default:
      nginx_default:
        aliases:
          - beaconoid
volumes:
  assets:
networks:
  nginx_default:
    external: true